{% extends 'base.html' %}

{% block title %}Conversation with {{ other_name }}{% endblock %}

{% block content %}
<div class="p-6 rounded shadow" data-admin-theme-light="bg-black text-white" data-admin-theme-dark="bg-black text-white">
  <h2 class="text-xl font-semibold mb-4">Conversation with {{ other_name }}</h2>
  <div class="space-y-3 mb-4" style="display:flex;flex-direction:column;gap:12px;">
    {% for m in msgs %}
      {% set is_sender = (m[0] == session.get('id')) %}
      <div style="max-width:75%;padding:10px;border-radius:10px;color:#fff;align-self: {{ 'flex-end' if is_sender else 'flex-start' }}; background: {{ '#0b5394' if is_sender else '#000' }};">
        <div class="text-sm">{{ m[2] }}</div>
        <div class="text-xs" style="opacity:0.7;margin-top:6px;font-size:12px">{{ m[3] }}</div>
      </div>
    {% else %}
      <div class="text-sm text-gray-500">No messages yet. Say hello!</div>
    {% endfor %}
  </div>
  <form method="post">
    <textarea name="body" rows="3" class="w-full background-color-black border rounded px-3 py-2 mb-2  " placeholder="Write a message..."></textarea>
    <div class="flex justify-end">
      <button class="px-4 py-2 bg-blue-600 text-white rounded">Send</button>
    </div>
  </form>
</div>
{% endblock %}
